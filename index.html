<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PokéBattle KR · Pages</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="brand">
        <div class="ball"></div>
        <div>
          <div class="title">PokéBattle KR</div>
          <div class="small">Pages · 실전 대미지 계산 · 한국어 대사</div>
        </div>
      </div>
      <div class="badges">
        <div class="badge">PokéAPI 타입 자동 로드</div>
        <div class="badge">로컬 캐시</div>
      </div>
    </div>

    <div class="panel">
      <div class="flex" style="justify-content:space-between">
        <div class="title">① 엔트리 입력</div>
        <div class="small">스탯은 실능치 그대로 입력</div>
      </div>
      <div class="grid grid-2">
        <div class="card">
          <div class="flex"><div class="pill">공격측</div></div>
          <div class="row">
            <div style="grid-column:span 3"><label>포켓몬 검색(영문 추천)</label><input id="atkSearch" class="input" placeholder="예: charizard / 리자몽"></div>
            <div><label>레벨</label><input id="atkLevel" class="input" type="number" value="50"></div>
            <div style="grid-column:span 2"><label>이름</label><input id="atkName" class="input" placeholder="자동/수정가능"></div>
          </div>
          <div class="row">
            <div><label>타입1</label><input id="atkType1" class="input" placeholder="자동"></div>
            <div><label>타입2</label><input id="atkType2" class="input" placeholder="없으면 비움"></div>
            <div><label>HP</label><input id="atkHP" class="input" type="number" value="150"></div>
            <div><label>공격/특공</label><input id="atkA" class="input" type="number" value="200"></div>
            <div><label>방어/특방</label><input id="atkB" class="input" type="number" value="120"></div>
            <div><label>추가 배수</label><input id="atkMod" class="input" type="number" step="0.01" value="1.0"></div>
          </div>
          <div class="row">
            <div><label>화상</label><select id="atkBurn" class="input"><option>아니오</option><option>예</option></select></div>
            <div><label>근성(예외)</label><select id="atkGuts" class="input"><option>아니오</option><option>예</option></select></div>
            <div><label>자속(STAB)</label><select id="atkStab" class="input"><option>자동</option><option>끄기</option></select></div>
            <div style="grid-column:span 3;display:flex;align-items:center;gap:8px">
              <div class="small">타입</div>
              <div id="atkBadge" class="type-badges"></div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="flex"><div class="pill">수비측</div></div>
          <div class="row">
            <div style="grid-column:span 3"><label>포켓몬 검색(영문 추천)</label><input id="defSearch" class="input" placeholder="예: garchomp / 한카리아스"></div>
            <div><label>레벨</label><input id="defLevel" class="input" type="number" value="50"></div>
            <div style="grid-column:span 2"><label>이름</label><input id="defName" class="input" placeholder="자동/수정가능"></div>
          </div>
          <div class="row">
            <div><label>타입1</label><input id="defType1" class="input" placeholder="자동"></div>
            <div><label>타입2</label><input id="defType2" class="input" placeholder="없으면 비움"></div>
            <div><label>HP</label><input id="defHP" class="input" type="number" value="180"></div>
            <div><label>공격/특공</label><input id="defA" class="input" type="number" value="120"></div>
            <div><label>방어/특방</label><input id="defB" class="input" type="number" value="120"></div>
            <div><label>추가 배수</label><input id="defMod" class="input" type="number" step="0.01" value="1.0"></div>
          </div>
          <div class="row">
            <div><label>리플렉터</label><select id="reflect" class="input"><option>아니오</option><option>예</option></select></div>
            <div><label>빛의장막</label><select id="lightscreen" class="input"><option>아니오</option><option>예</option></select></div>
            <div><label>더블 배틀</label><select id="isDouble" class="input"><option>아니오</option><option>예</option></select></div>
            <div><label>잔식 회복량</label><input id="leftovers" class="input" type="number" value="0"></div>
            <div style="grid-column:span 2;display:flex;align-items:center;gap:8px">
              <div class="small">타입</div>
              <div id="defBadge" class="type-badges"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="hr"></div>
      <div class="flex">
        <button id="btnSwap" class="btn btn-ghost">좌/우 스왑</button>
        <div class="small">처음 로딩 후 포켓몬 목록·타입은 브라우저에 캐시됩니다.</div>
      </div>
    </div>

    <div class="panel">
      <div class="title">② 기술 지시 입력 → 계산</div>
      <div class="grid grid-3">
        <div class="card">
          <div class="row">
            <div style="grid-column:span 3"><label>기술명</label><input id="moveName" class="input" placeholder="예: 인파이트 / Close Combat"></div>
            <div><label>타입</label><input id="moveType" class="input" placeholder="예: 격투 / Fighting"></div>
            <div><label>분류</label><select id="moveCat" class="input"><option>물리</option><option>특수</option></select></div>
            <div><label>위력</label><input id="movePower" class="input" type="number" value="120"></div>
          </div>
          <div class="row">
            <div><label>급소</label><select id="isCrit" class="input"><option>아니오</option><option>예</option></select></div>
            <div><label>날씨</label><select id="weather" class="input"><option>없음</option><option>쾌청</option><option>비</option></select></div>
            <div><label>추가 배수(기술)</label><input id="moveMod" class="input" type="number" step="0.01" value="1.0"></div>
          </div>
          <button id="btnCalc" class="btn">계산하고 로그 출력</button>
          <div class="caption">기믹은 “추가 배수”로 임시 반영 → 필요 시 정식 토글로 확장 가능</div>
        </div>

        <div class="card">
          <div class="title" style="margin-bottom:8px">결과</div>
          <div class="flex">
            <div class="pill">대미지 범위: <span id="outRange">-</span></div>
            <div class="pill">OHKO: <span id="outOHKO">-</span></div>
            <div class="pill">2HKO: <span id="out2HKO">-</span></div>
          </div>
          <div class="hr"></div>
          <div id="outLog" class="log">-</div>
        </div>

        <div class="card">
          <div class="title" style="margin-bottom:8px">히스토리</div>
          <div id="hist" class="log"></div>
          <div class="hr"></div>
          <div class="flex"><button id="btnClear" class="btn btn-ghost">히스토리 비우기</button></div>
        </div>
      </div>
    </div>

    <div class="small">데이터 소스: PokéAPI (https://pokeapi.co/). 비공식 팬 도구입니다.</div>
  </div>

  <script src="app.js"></script>
</body>
</html>
